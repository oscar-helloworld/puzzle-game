# 《治愈系拼图游戏》PRD（产品需求文档）

（简要版——与代码实现一致，可直接交付）

## 1. 产品定位与目标
- 单人休闲益智网页拼图；核心是“轻松、无压力、治愈”
- 两个页面：**首页**、**游戏页**

## 2. 资源库
- 图片库：内置文件夹，≥100 张（示例清单见 `content/images.json`）
- 背景音乐库：内置文件夹，≥10 首（示例清单见 `content/audio.json`）
- 治愈语库：`content/phrases.txt` 每行一句，完成后弹窗随机显示（避免最近 3 句重复）

## 3. 首页
- 按钮：【开始】【音乐】【音效】
- 首次点击解锁音频（iOS/Safari 限制）；若“音乐开”，随机播放 1 首 BGM
- 音乐/音效开关以彩色/灰色区分，并持久化到本地

## 4. 游戏页
- 中央：Canvas 拼图区（默认 6×5 共 30 块；吸附阈值约 18px）
- 四周/底部：自由拼块池，随机散落
- 顶部按钮：【音乐】【音效】【换一张】【换一曲】
- 规则：无倒计时、无分数；后台计时不显示
- 反馈：吸附时播放 SFX + 轻微高亮
- 完成：弹出半透明窗+治愈语；【继续】重新随机一张图

## 5. 音频策略
- Web Audio 控制播放与**交叉淡入淡出**（200–400ms）
- “换一曲”随机从清单中挑选；音效使用 `sfx.snap`

## 6. 适配与性能
- DPR 缩放确保清晰；安全区适配；拼图区 `touch-action: none` 防误触
- 首局仅加载 1 张图 + 1 首 BGM；其余懒加载（可在二期做 Worker 切块、PWA）

## 7. MVP 范围（与仓库一致）
- 首页功能 + 游戏页核心交互 + 完成弹窗 + BGM/SFX 控制 + 资源清单化
